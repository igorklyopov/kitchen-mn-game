var Z=Object.defineProperty;var t0=(a,t,e)=>t in a?Z(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var D=(a,t,e)=>(t0(a,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const H=320,W=180,e0=1440,i0=960,s0=1,P={x:15,y:57},n0=1,a0={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},o0={STAND:"STAND",WALK:"WALK"},U={HERO_POSITION:"HERO_POSITION",CONVERSATION_START:"CONVERSATION_START",CONVERSATION_END:"CONVERSATION_END"},r0=30,B={1:"WALL",2:""};class G{constructor(){this.timeTo=0,this.callback=null,this.timer=0,this.isStopped=!1}get timeIsUp(){return this.isStopped}setTime(t){this.timeTo=t}setCallback(t){this.callback=t,this.callback.bind(this)}start(t){t??console.error("please pass deltaTime argument to start method"),this.timer>this.timeTo?(this.timer=0,this.isStopped=!0,this.callback()):this.timer=Math.round(this.timer+Math.round(t))}}class m{constructor(t={a:0,b:0}){this._initialProps={...t},this._keyA=Object.keys(this._initialProps)[0],this._keyB=Object.keys(this._initialProps)[1],this[this._keyA]=Object.values(this._initialProps)[0],this[this._keyB]=Object.values(this._initialProps)[1],Object.seal(this)}duplicate(){const t={[this._keyA]:this[this._keyA],[this._keyB]:this[this._keyB]};return new m(t)}}class h0{constructor(){D(this,"callbacks",[]);D(this,"nextId",0)}emit(t="",e=null){this.callbacks.forEach(i=>{i.eventName===t&&i.callback(e)})}on(t="",e=null,i=()=>{}){return this.nextId+=1,this.callbacks.push({id:this.nextId,eventName:t,caller:e,callback:i}),this.nextId}off(t){this.callbacks=this.callbacks.filter(e=>e.id!==t)}unsubscribe(t){this.callbacks=this.callbacks.filter(e=>e.caller!==t)}}const u=new h0;class k{constructor({position:t,name:e}){this.name=e??"gameObject",this.position=t??new m({x:0,y:0}),this.children=[],this.parent=null,this.hasReadyBeenCalled=!1}stepEntry(t,e){this.children.forEach(i=>i.stepEntry(t,e)),this.hasReadyBeenCalled||(this.hasReadyBeenCalled=!0,this.ready()),this.step(t,e)}ready(){}step(t){}draw(t,e,i){const s=e+this.position.x,n=i+this.position.y;this.drawImage(t,s,n),this.children.forEach(o=>o.draw(t,s,n))}drawImage(t,e,i){}destroy(){this.children.forEach(t=>{t.destroy()}),this.parent.removeChild(this)}addChild(t){t.parent=this,this.children.push(t)}removeChild(t){u.unsubscribe(t),this.children=this.children.filter(e=>t!==e)}}class K extends k{constructor({name:t="sprite",imageSrc:e="",position:i={x:0,y:0},frameX:s=0,frameY:n=0,frameSize:o={width:16,height:16},frameXMaxNumber:r=1,frameYNumber:h=1,animations:c={},scale:y=1}){super({name:t}),this.image=new Image,this.image.onload=()=>{this.imgLoaded=!0,this.frameWidth=this.image.width/r||o.width,this.frameHeight=this.image.height/h||o.height},this.image.onerror=()=>{console.error(`image with src ${e} is not loaded`)},this.image.src=e,this.imgLoaded=!1,this.position=i,this.frameSize=o,this.frameX=s,this.frameY=n,this.frameXMaxNumber=r,this.frameYNumber=h,this.scale=y,this.animations=c,this.currentAnimationFrameIndex=0,this.frameInterval=0,this.frameTimer=new G,this.animationName=""}get size(){return this.frameSize}step(t){Object.keys(this.animations).length<1||this.animationName===""||this.playAnimation({animationName:this.animationName,deltaTime:t})}playAnimation({animationName:t="",deltaTime:e=0}){const i=()=>{if(!this.animations[this.animationName]){console.error("animation with this name not found");return}const o=[],r=this.animations[this.animationName].frameXNumber,h=this.animations[this.animationName].startFrameIndex;for(let c=0;c<r;c+=1)o.push(c);return o[o.length-1]!==h&&o.push(h),o},s=()=>{n[this.currentAnimationFrameIndex]||(this.currentAnimationFrameIndex=0),this.frameX=n[this.currentAnimationFrameIndex],this.currentAnimationFrameIndex+=1};this.animationName=t;const n=i();if(n){if(this.frameY=this.animations[this.animationName].frameY,n.length===1){this.frameX=n[0];return}this.frameInterval=1e3/this.animations[this.animationName].fps,this.frameTimer.setTime(this.frameInterval),this.frameTimer.setCallback(s),this.frameTimer.start(e)}}draw(t){this.imgLoaded&&t.drawImage(this.image,this.frameX*this.frameSize.width,this.frameY*this.frameSize.height,this.frameSize.width,this.frameSize.height,this.position.x,this.position.y,this.frameSize.width*this.scale,this.frameSize.height*this.scale),this.drawRectBorder(t)}drawRectBorder(t){t.strokeStyle="rgba(16,193,16,1)",t.strokeRect(this.position.x,this.position.y,this.frameSize.width,this.frameSize.height),t.strokeStyle="red",t.strokeRect(this.position.x,this.position.y,2,2)}}class c0{constructor({update:t=()=>{},render:e=()=>{},fps:i=30}){D(this,"mainLoop",t=>{this.isRunning&&(this.isPaused||this.runUpdate(t),this.render(),this.rafId=requestAnimationFrame(this.mainLoop))});this.update=t,this.render=e,this.fps=i,this.lastFrameTime=0,this.accumulatedTime=0,this.timeStep=Math.round(1e3/this.fps),this.rafId=null,this.isRunning=!1,this.isPaused=!1}setFps(t=0){this.fps=t,this.timeStep=Math.round(1e3/this.fps)}runUpdate(t){const e=Math.round(t-this.lastFrameTime);for(this.lastFrameTime=Math.round(t),this.accumulatedTime=Math.round(this.accumulatedTime+e);this.accumulatedTime>=this.timeStep;)this.update(this.timeStep),this.accumulatedTime-=this.timeStep}start(){this.isRunning||(this.isRunning=!0,this.rafId=requestAnimationFrame(this.mainLoop))}pause(){this.isPaused=!0}stop(){this.rafId&&cancelAnimationFrame(this.rafId),this.isRunning=!1}}class m0{constructor(){this.directionsNames={},this.keyMap={},this._direction="",this._currentActions=[],this._init()}setKeyMap(t={}){this.keyMap=t}setDirectionsNames(t={}){this.directionsNames=t}_setDirection(t=""){t!==""&&this._direction!==t&&this._direction===""&&(this._direction=t)}getDirection(){return this._direction}_removeDirection(t=""){this._direction===t&&(this._direction="")}_setAction(t=""){t!==""&&(this._currentActions.includes(t)||this._currentActions.push(t))}getActions(){return this._currentActions}_removeAction(t=""){const e=this._currentActions.indexOf(t);e!==-1&&this._currentActions.splice(e,1)}_init(){document.addEventListener("keydown",t=>{for(const e in this.keyMap)this.keyMap[e].includes(t.code)&&(this.directionsNames[e]?this._setDirection(e):this._setAction(e))}),document.addEventListener("keyup",t=>{for(const e in this.keyMap)this.keyMap[e].includes(t.code)&&(this.directionsNames[e]?this._removeDirection(e):this._removeAction(e))})}}class l0{constructor({element:t=null,text:e="",speed:i=80}){this.element=t,this.text=e,this.speed=i,this.interval=null,this.isDone=!1}warpToDone(){clearInterval(this.interval),this.isDone=!0}init(){let t=0;this.element.innerHTML!==""&&(this.element.innerHTML=""),this.isDone=!1,this.interval=setInterval(()=>{t===this.text.length?this.warpToDone():(this.element.innerHTML+=this.text[t],t+=1)},this.speed)}}const M={key:"close",content:"close"};class d0{constructor({container:t=document.querySelector("body")}){this.container=t,this.root=null,this.text="",this.buttonsData=[],this.buttonsRefs=[],this.onComplete=()=>{},this.opened=!1}set isOpen(t){this.opened=t}get isOpen(){return this.opened}setOnComplete(t=()=>{}){this.onComplete=t}setConfig({text:t="",buttons:e=[{key:M.key,content:M.content,onClick:()=>this.close()}]}){this.text=t,this.buttonsData=e,!this.container.querySelector('[data-name = "dialogRoot"]')&&(this.create(),this.container.appendChild(this.root),this.addActionToButtons())}makeButtonsEls(){const t=[];return this.buttonsData.forEach(({key:e,content:i})=>{if(!e||String(e).trim().length<1)throw new Error("add unique key attribute to each button");const s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("data-key",e),s.setAttribute("data-name","dialogButton"),s.classList.add("dialog_button"),i&&(s.innerHTML=i),t.push(s)}),t}addActionToButtons(){this.buttonsRefs=this.container.querySelectorAll('[data-name = "dialogButton"]'),this.buttonsRefs.forEach(t=>{this.buttonsData.forEach(e=>{t.dataset.key===e.key&&t.addEventListener("click",e.onClick.bind(this))})})}removeActionFromButtons(){this.buttonsRefs=[],this.buttonsRefs.forEach(t=>{this.buttonsData.forEach(e=>{t.dataset.key===e.key&&t.removeEventListener("click",e.onClick.bind(this))})})}create(){this.root=document.createElement("div"),this.root.setAttribute("data-name","dialogRoot"),this.root.classList.add("dialog");const t=document.createElement("p");t.classList.add("dialog_text"),this.root.append(t);const e=document.createElement("div");e.setAttribute("data-name","buttonsWrap"),e.classList.add("dialog_buttons_wrap"),this.root.append(e);const i=this.makeButtonsEls();e.append(...i)}open(){this.root.classList.add("is_open"),this.isOpen=!0,this.revealingText=new l0({element:this.root.querySelector(".dialog_text"),text:this.text}),this.revealingText.init()}close(){this.root.classList.remove("is_open"),this.onComplete(),this.removeActionFromButtons(),this.root.remove(),this.isOpen=!1}}class u0{constructor({name:t="boundary",position:e={x:0,y:0},width:i=0,height:s=0,color:n="red"}){this.name=t,this.position=e,this.width=i,this.height=s,this.color=n}draw(t){t.fillStyle=this.color,t.fillRect(this.position.x,this.position.y,this.width,this.height)}}const f0=(a,t)=>{const e=[];for(let i=0;i<a.length;i+=t)e.push(a.slice(i,t+i));return e},V={map:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,0,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:90,height:60,tileSize:16},{map:p0,width:g0,tileSize:b}=V,j=f0(p0,g0),L=[],$=[];j.forEach((a,t)=>{a.forEach((e,i)=>{if(e!==0){const s=new u0({name:B[e],position:{x:i*b,y:t*b},width:b,height:b,color:"rgba(244,8,222,0.5)"});$.push(s)}})});j.forEach((a,t)=>{a.forEach((e,i)=>{if(e!==0){const s=B[e],n=[i*b,t*b],o={[s]:n};L.push(o)}})});const X=(a={position:{x:0,y:0},width:0,height:0},t={position:{x:0,y:0},width:0,height:0})=>a.position.x+a.width>=t.position.x&&a.position.x<=t.position.x+t.width&&a.position.y<=t.position.y+t.height&&a.position.y+a.height>=t.position.y,{UP:N,DOWN:S,LEFT:x,RIGHT:w}=a0,{STAND:l,WALK:d,SHOOT:y0}=o0,{HERO_POSITION:Y,CONVERSATION_START:A0,CONVERSATION_END:b0}=U,{tileSize:z}=V;class q extends k{constructor({name:t="character",position:e={x:0,y:0},isPlayerControlled:i=!1,imageSrc:s,frameX:n,frameY:o,frameSize:r,frameXMaxNumber:h,frameYNumber:c,animations:y,scale:O}){super({name:t,position:new m({x:e.x,y:e.y})}),this.body=new K({imageSrc:s,frameX:n,frameY:o,frameSize:r,frameXMaxNumber:h,frameYNumber:c,animations:y,scale:O,position:this.position,name:this.name}),this.addChild(this.body),this.isPlayerControlled=i,this.movementStepsNumber=n0,this.movingStepSize=s0,this.canMove=!0,this.isAutoActionPlay=!1,this.actions={repeat:!1,data:[]},this.actionDataIndex=0,this.frameTimer=new G,this.movingStepsCounter=0,this.lastAction="",this.currentAction="",this.currentDirection="",this.isPlayerControlled||(this.heroPosition=new m(0,0),u.on(Y,this,_=>this.heroPosition=_)),this.messagesData=[{text:"",buttons:[{key:"",content:null,onClick:()=>{}}]}],this.conversation=new d0({container:document.querySelector(".js_game")}),this.conversation.setOnComplete(()=>{console.log(`conversation with ${this.name} is complete!`),u.emit(b0,this.name)})}set movementSteps(t){this.movementStepsNumber=t}get movementSteps(){return this.movementStepsNumber}set autoActionsPlay(t){this.actions=t}get autoActionsPlay(){return this.isAutoActionPlay}step(t,e){let i="",s="";if(this.isAutoActionPlay){const{generatedAction:n,generatedDirection:o}=this.generateAction(t);i=this.getCurrentAction(n,o),s=o}else{const{input:n}=e,[o]=n.getActions();s=n.getDirection(),i=this.getCurrentAction(o,s)}this.isPlayerControlled&&u.emit(Y,this.position),this._saveLastAction(i),this._saveCurrentDirection(s),i!==l&&this.move(i,this.currentDirection,t),this.canMove?this.animateAction(i,this.currentDirection,t):this.animateAction(l,this.currentDirection,t)}setActions(t={repeat:!1,data:[]}){this.actions=t,this.actions.data=this.getActionsWithWayPoints(t.data)}getActionsWithWayPoints(t=[]){if(t.length<1)return;const e=[];let i=this.position.duplicate();for(let s=0;s<t.length;s+=1){const n=t[s];if(n.action===l&&(n.destination=new m({x:0,y:0})),n.action===d){const o=n.distance*this.movingStepSize;switch(n.direction){case N:i=i.duplicate(),i.y-=o,n.destination=i;break;case S:i=i.duplicate(),i.y+=o,n.destination=i;break;case w:i=i.duplicate(),i.x+=o,n.destination=i;break;case x:i=i.duplicate(),i.x-=o,n.destination=i;break}}e.push(n)}return e}_saveLastAction(t=""){t!==""&&this.lastAction!==t&&(this.lastAction=t)}_saveCurrentDirection(t=""){t!==""&&this.currentDirection!==t&&(this.currentDirection=t)}getCurrentAction(t="",e=""){if(t!==""&&e!=="")return t;if(t===""&&e!=="")switch(this.lastAction){case l:return d;case d:return d;default:return""}else if(t===""&&e==="")switch(this.lastAction){case"":return l;case d:return l;default:return""}}incrementActionDataIndex(){return this.actionDataIndex<this.actions.data.length-1&&(this.actionDataIndex+=1),this.actionDataIndex}resetActionDataIndex(){return this.actionDataIndex=0,this.actionDataIndex}generateAction(t=0){var c,y,O,_;const{data:e,repeat:i}=this.actions,s=(c=e[this.actionDataIndex])==null?void 0:c.time,n=(y=e[this.actionDataIndex])==null?void 0:y.destination,o=this.position.x===n.x&&this.position.y===n.y;let r=(O=e[this.actionDataIndex])==null?void 0:O.action,h=(_=e[this.actionDataIndex])==null?void 0:_.direction;return r===l&&s&&(this.frameTimer.setTime(s),this.frameTimer.setCallback(()=>this.incrementActionDataIndex()),this.frameTimer.start(t)),r===d&&o&&(this.incrementActionDataIndex(),this.actionDataIndex<this.actions.data.length&&(r="",h="")),this.actionDataIndex===this.actions.data.length-1&&i&&o&&this.resetActionDataIndex(),{generatedAction:r,generatedDirection:h}}animateAction(t="",e="",i=0){if(t===l)switch(e){case N:this.body.playAnimation({animationName:"standUp"});return;case S:this.body.playAnimation({animationName:"standDown"});return;case w:this.body.playAnimation({animationName:"standRight"});return;case x:this.body.playAnimation({animationName:"standLeft"});return;default:return}if(t===d)switch(e){case N:this.body.playAnimation({animationName:"walkUp",deltaTime:i});return;case S:this.body.playAnimation({animationName:"walkDown",deltaTime:i});return;case w:this.body.playAnimation({animationName:"walkRight",deltaTime:i});return;case x:this.body.playAnimation({animationName:"walkLeft",deltaTime:i});break;default:return}if(t===y0)switch(e){case N:console.warn("shoot up");return;case S:console.warn("shoot down");return;case w:console.warn("shoot right");return;case x:console.warn("shoot left");break}}checkIsSpaceFree(t=0,e=0){const i={position:{x:t,y:e},width:this.body.size.width,height:this.body.size.height};let s={position:{x:0,y:0},width:0,height:0};if(this.isPlayerControlled)for(let n=0;n<L.length;n+=1){const o=Object.values(L[n]),r={position:{x:o[0][0],y:o[0][1]},width:z,height:z};if(X(i,r)){this.canMove=!1;break}else this.canMove=!0}else s={position:{x:this.heroPosition.x,y:this.heroPosition.y},width:this.body.size.width,height:this.body.size.height},X(i,s)?(this.canMove=!1,this.conversation.isOpen||this.showMessage("hello")):this.canMove=!0;return this.canMove}move(t="",e=""){for(let i=0;i<this.movementStepsNumber;i+=1){let s=this.position.x,n=this.position.y;if(t===d)switch(e){case N:n-=this.movingStepSize;break;case S:n+=this.movingStepSize;break;case w:s+=this.movingStepSize;break;case x:s-=this.movingStepSize;break}this.checkIsSpaceFree(s,n)&&(this.position.x=s,this.position.y=n)}}setMessages(t=[{text:"",buttons:[{key:"",content:null,onClick:()=>{}}]}]){this.messagesData=t}showMessage(t=""){for(const e of this.messagesData)if(e.id===t){this.conversation.setConfig({text:e.text,buttons:e.buttons});break}this.conversation.open(),u.emit(A0,this.name)}}const v=[{name:"gameMap",src:"/assets/images/kitchen_mn_map.png"},{name:"hero",src:"/assets/images/sprites/hero.png",frameSize:{width:32,height:32},maxNumberOfFramesAlongX:3,numberOfFramesAlongY:4,animations:{walkUp:{frameX:0,frameY:3,frameXNumber:3,startFrameIndex:1,fps:10},walkDown:{frameX:0,frameY:0,frameXNumber:3,startFrameIndex:1,fps:10},walkRight:{frameX:0,frameY:2,frameXNumber:3,startFrameIndex:1,fps:10},walkLeft:{frameX:0,frameY:1,frameXNumber:3,startFrameIndex:1,fps:10},standUp:{frameX:1,frameY:3,frameXNumber:0,startFrameIndex:1,fps:10},standDown:{frameX:1,frameY:0,frameXNumber:0,startFrameIndex:1,fps:10},standLeft:{frameX:1,frameY:1,frameXNumber:0,startFrameIndex:1,fps:10},standRight:{frameX:1,frameY:2,frameXNumber:0,startFrameIndex:1,fps:10}}},{name:"lida",src:"/assets/images/sprites/characters/female/lida.png",frameSize:{width:32,height:32},maxNumberOfFramesAlongX:3,numberOfFramesAlongY:4,animations:{walkUp:{frameX:0,frameY:3,frameXNumber:3,startFrameIndex:1,fps:10},walkDown:{frameX:0,frameY:0,frameXNumber:3,startFrameIndex:1,fps:10},walkRight:{frameX:0,frameY:2,frameXNumber:3,startFrameIndex:1,fps:10},walkLeft:{frameX:0,frameY:1,frameXNumber:3,startFrameIndex:1,fps:10},standUp:{frameX:1,frameY:3,frameXNumber:0,startFrameIndex:1,fps:10},standDown:{frameX:1,frameY:0,frameXNumber:0,startFrameIndex:1,fps:10},standLeft:{frameX:1,frameY:1,frameXNumber:0,startFrameIndex:1,fps:10},standRight:{frameX:1,frameY:2,frameXNumber:0,startFrameIndex:1,fps:10}}}],C=(a=[],t="")=>a.find(e=>e.name===t),N0=C(v,"hero");class S0 extends k{constructor(){super({name:"camera"}),this.position=new m({x:0,y:0}),u.on("HERO_POSITION",this,t=>{const e=N0.frameSize.width/2,i=H,s=W,n=-e+i/2,o=-e+s/2;this.position=new m({x:-t.x+n,y:-t.y+o})})}}const E=a=>a*16,x0={gameCanvas:document.getElementById("game_canvas"),dialog:document.querySelector("_dialog")},w0={repeat:!0,data:[{action:"STAND",direction:"UP",time:3e3},{action:"WALK",direction:"UP",distance:60},{action:"WALK",direction:"LEFT",distance:60},{action:"WALK",direction:"RIGHT",distance:60},{action:"STAND",direction:"DOWN",time:2e3},{action:"WALK",direction:"DOWN",distance:60}]},{CONVERSATION_START:I0,CONVERSATION_END:T0}=U,I=x0.gameCanvas;I.width=H;I.height=W;const A=I.getContext("2d"),f=new k({name:"mainScene",position:new m({x:0,y:0})}),O0=C(v,"gameMap"),_0=new K({name:"gameMapSprite",imageSrc:O0.src,frameSize:{width:e0,height:i0}});f.addChild(_0);const p=C(v,"hero"),J=new q({name:"hero",isPlayerControlled:!0,imageSrc:p.src,frameX:p.animations.standUp.frameX,frameY:p.animations.standUp.frameY,frameSize:p.frameSize,frameXMaxNumber:p.maxNumberOfFramesAlongX,frameYNumber:p.numberOfFramesAlongY,animations:p.animations,position:{x:E(P.x),y:E(P.y)}});f.addChild(J);console.log(J);const g=C(v,"lida"),T=new q({name:"lida",imageSrc:g.src,frameX:g.animations.standUp.frameX,frameY:g.animations.standUp.frameY,frameSize:g.frameSize,frameXMaxNumber:g.maxNumberOfFramesAlongX,frameYNumber:g.numberOfFramesAlongY,animations:g.animations,position:{x:E(15),y:E(53)}});T.setActions(w0);T.isAutoActionPlay=!0;T.setMessages([{id:"hello",text:"Hello everyone!",buttons:[{key:"test",content:"test",onClick:function(a){this.close()}}]}]);f.addChild(T);console.log(T);u.on(I0);u.on(T0);const F=new S0;f.addChild(F);const Q={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},{UP:D0,DOWN:E0,LEFT:k0,RIGHT:v0}=Q,C0={[D0]:["KeyW","Numpad8"],[E0]:["KeyS","Numpad2"],[k0]:["KeyA","Numpad4"],[v0]:["KeyD","Numpad6"],SHOOT:["KeyQ"]},R=new m0;R.setKeyMap(C0);R.setDirectionsNames(Q);f.input=R;const L0=a=>{f.stepEntry(a,f)},F0=()=>{A.clearRect(0,0,I.width,I.height),A.save(),A.translate(F.position.x,F.position.y),f.draw(A,0,0),$.forEach(a=>a.draw(A)),A.restore()},R0=new c0({update:L0,render:F0,fps:r0});R0.start();
